from typing import Dict, List, Tuple

from pint import Quantity
from typing_extensions import Literal

from boiling_learning.utils.dataclasses import dataclass
from boiling_learning.utils.units import unit_registry as ureg

Q_ = ureg.Quantity


@dataclass(frozen=True)
class NukiyamaBoilingCurve:
    """Experimental data published by Nukiyama.

    NUKIYAMA, Shiro. The maximum and minimum values of the heat Q transmitted from metal to boiling
    water under atmospheric pressure. International Journal of Heat and Mass Transfer, v. 9, p.
    1419-1433, Dec. 1966. Translated from Journal of the Society of Mechanical Engineers, 37,
    367-374, Japan, 1934. Available at http://www.htsj.or.jp/wp/media/IJHMT1984-3.pdf. Table 3.
    """

    material: str = 'Nichrome'
    diameter: Quantity[float] = 0.575 * ureg.mm
    length: Quantity[int] = 200 * ureg.mm

    @staticmethod
    def fetch() -> Tuple[Quantity[List[float]], Quantity[List[float]]]:
        temperature_excess = Q_(
            [
                3,
                8,
                13.5,
                18.8,
                25.7,
                31.0,
                35.5,
                38.0,
                44.0,
                46.5,
            ],
            ureg.delta_degC,
        )

        heat_flux = Q_(
            [
                0.0527,
                1.385,
                5.44,
                12.66,
                22.42,
                27.15,
                32.43,
                35.29,
                38.22,
                40.48,
            ],
            ureg.cal / (ureg.cm ** 2 * ureg.s),
        )

        return temperature_excess.to(ureg.delta_degC), heat_flux.to(ureg.W / ureg.cm ** 2)


class IncroperaBoilingCurve:
    @staticmethod
    def fetch() -> Tuple[Quantity[List[float]], Quantity[List[float]]]:
        temperature_excess = Q_(
            [
                1.2746231374307015,
                1.41943769421438,
                1.5807051579323592,
                1.7602948030042893,
                1.9602882788951492,
                2.1830037388142776,
                2.4310227097633987,
                2.707220015388242,
                3.014797098473843,
                3.3573191293293716,
                3.73875633019113,
                4.163529994640821,
                4.636563735456814,
                5.1005854499813505,
                5.666206728840396,
                6.157514827792382,
                6.63660805422927,
                6.9606549155014115,
                7.300524071452148,
                7.57238849329594,
                7.852598263994612,
                8.097782436011032,
                8.338959930173612,
                8.587320450572099,
                8.843077930376689,
                9.070887845218989,
                9.364575071689458,
                9.562957066988556,
                9.57075624690227,
                10.190795072339247,
                10.443102819379213,
                10.769171138675775,
                11.219820567102131,
                11.584162808000693,
                12.034669556183417,
                12.637964792282855,
                13.533723538632659,
                14.142818717126543,
                14.783329496381906,
                15.596312079772037,
                16.26223094126634,
                17.28351838818343,
                17.983017458139614,
                19.43637575992814,
                21.036881784318833,
                22.180498804037953,
                24.700505705860184,
                27.50681973004864,
                30.557144581112986,
                34.11217837552191,
                37.80242785594117,
                41.08021842280123,
                43.77726309353136,
                46.19722348381221,
                48.513079745481235,
                50.696446568551934,
                52.719574517855406,
                54.823438829888275,
                57.01126142656075,
                59.28639280605802,
                61.652317173895746,
                64.11265777873807,
                66.6711824611515,
                69.33180942379025,
                72.4521384829543,
                76.08414763683463,
                79.89822858003798,
                83.9035085297774,
                88.54160495014624,
                93.8942409138628,
                100.05869114785735,
                107.67608937030309,
                118.16283966470398,
                131.58774837053338,
                145.2001065180031,
                163.18661293822313,
                181.726835794458,
                202.37348060142597,
                224.26620827829402,
                247.31461551011628,
                270.0767074886286,
                293.494644757325,
                318.9431154660208,
                344.9069819384943,
                372.9844615586147,
                403.34761500704536,
                436.1825097271645,
                471.6903601588539,
                510.08876079409873,
                551.6130196106476,
                596.5176000551024,
                641.9300680195572,
                690.7997554297284,
                743.3898579856427,
                799.9836082920134,
                860.885801253787,
                921.9040109699844,
                992.0879189730508,
                1067.6148788383164,
                1157.0376829268007,
                1237.700587143832,
                1323.9869072726663,
                1417.8289832504615,
                1525.7673127733294,
                1649.9738463397575,
                1775.5852020351651,
                1864.594882664584,
            ],
            ureg.delta_degC,
        )

        heat_flux = Q_(
            [
                927.3859728835369,
                1083.6175026957746,
                1254.1553683184845,
                1448.5472067092805,
                1678.8194641540683,
                1943.0291944975213,
                2242.6558392351335,
                2600.9498611926983,
                3010.282893204471,
                3481.646184007933,
                4029.5816940906548,
                4666.951648306068,
                5398.252539966192,
                6270.594682135501,
                7054.445161641491,
                8180.1230731732285,
                9853.947035711928,
                11756.756947565125,
                13620.25703693745,
                15962.579216617805,
                19194.712026984093,
                23289.630537135912,
                28339.513153598567,
                34833.16441265502,
                43247.821152876924,
                53130.785773066455,
                65691.14004151053,
                75984.7948523468,
                92297.8530060746,
                107689.52694097382,
                137248.85922717495,
                164802.1543878676,
                201017.25013854934,
                240777.32908545755,
                285777.315338408,
                340384.4227293002,
                407471.2587615908,
                480774.38381223136,
                539050.4252323667,
                603787.8370538187,
                662348.049883574,
                728632.0505946386,
                816321.8407052283,
                882170.7987503833,
                971002.7218261592,
                1064527.098763494,
                1211936.6015993357,
                1340040.578384019,
                1404390.1676286734,
                1333222.9159596898,
                1190098.0299054477,
                1011822.328969292,
                855934.24632503,
                723699.0607196501,
                609281.5716119152,
                512953.5930815473,
                435291.395096861,
                369387.4089215119,
                311691.91849194403,
                263504.7895658826,
                222767.32248980235,
                188683.52169775806,
                160418.88614631273,
                137162.556472513,
                115607.84745431472,
                96452.53939044278,
                81448.84447758179,
                69300.16316434079,
                58711.88373944923,
                49728.85998562809,
                42401.26507997616,
                35991.329870519425,
                30694.49164446315,
                27117.75682187971,
                25685.425221246758,
                26069.635480597484,
                28171.48006408555,
                32249.047708619666,
                38231.59735093478,
                45035.66027602651,
                53040.62995340463,
                62812.56348954219,
                74634.7843174265,
                88116.8154876267,
                104230.74023051874,
                123524.29042756082,
                146665.6565577074,
                174306.76878690426,
                207352.76565073628,
                247129.6929518292,
                294259.34793302935,
                346432.40108628443,
                409011.967337166,
                482375.48822044925,
                569588.5880849218,
                672388.4642579944,
                787030.2065409685,
                930327.25637485,
                1097050.0052832037,
                1313347.779891056,
                1471848.0329926808,
                1795715.2892876896,
                2101883.435160469,
                2481902.26781383,
                2971998.3644059645,
                3515487.7961905403,
                3887703.8736272226,
            ],
            (ureg.W / ureg.m ** 2),
        )

        return temperature_excess.to(ureg.delta_degC), heat_flux.to(ureg.W / ureg.cm ** 2)

    @staticmethod
    def extra() -> Dict[Literal['A', 'B', 'C', 'D', 'E'], Tuple[Quantity[float], Quantity[float]]]:
        return {
            'A': (
                Q_(5.329765171785223, ureg.delta_degC),
                Q_(6526.742602759848, ureg.W / ureg.m ** 2),
            ),
            'B': (
                Q_(10, ureg.delta_degC),
                Q_(100738.36274301627, ureg.W / ureg.m ** 2),
            ),
            'C': (
                Q_(31.099515499401985, ureg.delta_degC),
                Q_(1382213.3392412085, ureg.W / ureg.m ** 2),
            ),
            'D': (
                Q_(141.62460655153197, ureg.delta_degC),
                Q_(26021.687873296054, ureg.W / ureg.m ** 2),
            ),
            'E': (
                Q_(1187.228084422286, ureg.delta_degC),
                Q_(1402700.1913364157, ureg.W / ureg.m ** 2),
            ),
        }
